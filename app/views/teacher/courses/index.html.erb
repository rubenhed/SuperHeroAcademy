

<div class="container my-3">

  <div class="d-flex align-items-center justify-content-between">
    <div class="teacher-course-title">
      <h1 class="me-auto">🧑‍🏫 My courses</h1>
    </div>
    <%= link_to "Open a new Course", new_course_path, class: "btn btn-primary"%>
  </div>

  <% if @user %>
    <div class="row mt-2">
      <% @user.courses.each do |course| %>
        <%= render "pages/card", course: course %>
      <% end %>
    </div>

    <div class="teacher-course-title"><h1>🧑‍🎓 Sign ups</h1></div>

    <% @user.courses.each do |course| %>
      <% course.bookings.each do |booking| %>
        <% if booking.present? && booking.status == "pending" %>
          <div class="border d-flex">
            <p class="me-auto">
              Course: <%= course.title %>. Booker: <%= booking.user.name %>. Status: <%= booking.status %>.
            </p>
            <%= button_to "Accept", booking_path(booking, status: :accepted), class: "btn btn-primary", method: :patch %>
            <%= button_to "Reject", booking_path(booking, status: :rejected), class: "btn btn-primary", method: :patch %>
          </div>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

</div>
